{"version":3,"sources":["img/Logo.png","img/Shape.png","api/api.js","ContentWrapper/ContentWrapper.jsx","ContentWrapper/index.js","TransferFilter/TransferFilter.jsx","TransferFilter/index.js","ButtonFilter/ButtonFilter.jsx","ButtonFilter/index.js","TicketsList/Ticket.jsx","TicketsList/index.js","TicketsList/TicketsList.jsx","app/index.js","app/App.jsx","index.jsx"],"names":["module","exports","getSearchId","a","axios","get","response","getChunkTickets","id","params","searchId","ContentWrapper","props","children","Container","Img","src","logo","alt","Wrapper","styled","Row","div","img","TransferFilter","onClick","evt","preventDefault","target","getAttribute","changeTransferFlag","transferFlag","this","xs","sm","Title","Label","htmlFor","active","all","CheckBox","React","Component","Col","h2","input","attrs","type","label","Shape","Button","button","ButtonFilter","changeSortFlag","sortFlag","createTime","time","duration","startTime","Date","endTime","getTime","hours","Math","floor","min","normalize","getUTCHours","getUTCMinutes","Ticket","obj","price","carrier","segments","ticketThere","ticketBack","timeThere","date","timeBack","transferThereText","stops","length","transferBackText","prettyfyPrice","toString","replace","BlankTicket","span","Price","LogoCompani","SupportText","origin","destination","MainText","join","String","TicketsList","result","list","map","ticket","App","getId","setState","data","getTickets","state","stop","tickets","value","flag","sort","array","func","el1","el2","prev","next","sortFilter","activeTransfer","i","push","checkTransfer","includes","filter","seg1","seg2","transferFilter","slice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6efb4148.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo.d2a4807b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC5SURBVHgBjY7NDYJAEIVn9qwRO1grUDvQEqxAznrRCtQKiAfwaKzAWAEl2MJ2oJE1iIF9LkH8iST4bjP53g/TH5JbOHzTe2TmIGrhTSw5voYEGhCLFtfCyEIiSICWatpcCelrVwba+4F93XvBxG4O539BbLpMmHWC6Ci9k1MkRwP7szOMgyTtq0ljVwbxE1iwrbSnYkNrCNhGKCTZUM3b6rOZ33tLU65q+MtQ7L64TDzGPR1Z+EwVegAaYFmyhe9bkAAAAABJRU5ErkJggg==\"","import axios from \"axios\";\r\n\r\nexport const sortFilter = (tickets, flag) => {\r\n  const getDuration = ticket =>\r\n    ticket.segments[0].duration + ticket.segments[1].duration;\r\n  const getPrice = ticket => ticket.price;\r\n  const sort = (array, func) => {\r\n    return array.sort((el1, el2) => {\r\n      const prev = func(el1);\r\n      const next = func(el2);\r\n      if (prev < next) {\r\n        return -1;\r\n      }\r\n      if (prev > next) {\r\n        return 1;\r\n      }\r\n      return 0;\r\n    });\r\n  };\r\n\r\n  if (flag === \"cheapest\") {\r\n    return sort(tickets, getPrice);\r\n  }\r\n  return sort(tickets, getDuration);\r\n};\r\n\r\nexport const transferFilter = (tickets, transferFlag) => {\r\n  // если нажата галачка все\r\n  if (transferFlag.all) {\r\n    return tickets;\r\n  }\r\n  // массив для активных галочек\r\n  const activeTransfer = [];\r\n  for (let i = 0; i < 4; i++) {\r\n    if (transferFlag[i]) {\r\n      activeTransfer.push(i);\r\n    }\r\n  }\r\n  const checkTransfer = stop => activeTransfer.includes(stop);\r\n  return tickets.filter(\r\n    ({ segments: [seg1, seg2] }) =>\r\n      checkTransfer(seg1.stops.length) && checkTransfer(seg2.stops.length)\r\n  );\r\n};\r\n\r\nexport const getSearchId = async () => {\r\n  const response = await axios.get(\r\n    \"https://front-test.beta.aviasales.ru/search\"\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const getChunkTickets = async id => {\r\n  const response = await axios.get(\r\n    \"https://front-test.beta.aviasales.ru/tickets\",\r\n    {\r\n      params: { searchId: id }\r\n    }\r\n  );\r\n  return response;\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Row } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport logo from '../img/Logo.png'; // Tell Webpack this JS file uses this image\r\n\r\nconst ContentWrapper = props => {\r\n  const { children } = props;\r\n  return (\r\n    <Container>\r\n      <Img src={logo} alt=\"logo aviasales\" />\r\n      <Wrapper>{children}</Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nContentWrapper.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default ContentWrapper;\r\n\r\nconst Container = styled(Row)`\r\n  margin: 0 auto;\r\n  max-width: 755px;\r\n  min-width: 384px;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  @media screen and (min-width: 577px) {\r\n    & {\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n      align-items: normal;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 60px;\r\n  height: 60px;\r\n  display: block;\r\n  margin: 50px auto 50px auto;\r\n`;\r\n","import ContentWrapper from \"./ContentWrapper\";\r\n\r\nexport default ContentWrapper;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Col } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Shape from '../img/Shape.png'; // Tell Webpack this JS file uses this image\r\n\r\nclass TransferFilter extends React.Component {\r\n  onClick = evt => {\r\n    evt.preventDefault();\r\n    const id = evt.target.getAttribute('for');\r\n    const { changeTransferFlag } = this.props;\r\n    changeTransferFlag(id);\r\n  };\r\n\r\n  render() {\r\n    const { transferFlag } = this.props;\r\n    return (\r\n      <Container xs={22} sm={8}>\r\n        <Title>Количество пересадок </Title>\r\n        <Label htmlFor=\"all\" active={transferFlag.all} onClick={this.onClick}>\r\n          <CheckBox id=\"all\" />\r\n          Все\r\n        </Label>\r\n        <Label htmlFor=\"0\" active={transferFlag[0]} onClick={this.onClick}>\r\n          <CheckBox id=\"0\" />\r\n          Без пересадок\r\n        </Label>\r\n        <Label htmlFor=\"1\" active={transferFlag[1]} onClick={this.onClick}>\r\n          <CheckBox id=\"1\" />1 пересадка\r\n        </Label>\r\n        <Label htmlFor=\"2\" active={transferFlag[2]} onClick={this.onClick}>\r\n          <CheckBox id=\"2\" />2 пересадки\r\n        </Label>\r\n        <Label htmlFor=\"3\" active={transferFlag[3]} onClick={this.onClick}>\r\n          <CheckBox id=\"3\" />3 пересадки\r\n        </Label>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nTransferFilter.propTypes = {\r\n  changeTransferFlag: PropTypes.func.isRequired,\r\n  transferFlag: PropTypes.shape({\r\n    all: PropTypes.string,\r\n    '0': PropTypes.bool,\r\n    '1': PropTypes.bool,\r\n    '2': PropTypes.bool,\r\n    '3': PropTypes.bool,\r\n  }).isRequired,\r\n};\r\n\r\nexport default TransferFilter;\r\n\r\nconst Container = styled(Col)`\r\n  height: 252px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\r\n  border-radius: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 20px 0 20px 20px;\r\n  margin-bottom: 20px;\r\n  @media screen and (min-width: 577px) {\r\n    & {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n`;\r\nconst Title = styled.h2`\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  line-height: 12px;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n`;\r\nconst CheckBox = styled.input.attrs(props => ({ type: 'checkbox', id: props.id }))`\r\n  display: none;\r\n`;\r\n\r\nconst Label = styled.label.attrs(props => ({ htmlFor: props.htmlFor }))`\r\n  font-weight: normal;\r\n  font-size: 13px;\r\n  line-height: 20px;\r\n  &::before {\r\n    content: '';\r\n    width: 20px;\r\n    height: 20px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-right: 10px;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-color: ${props => (props.active ? '#2196F3' : '#9ABBCE')};\r\n    border-radius: 2px;\r\n    background: ${props => (props.active ? `url(${Shape}) center no-repeat` : 'none')};\r\n  }\r\n`;\r\n","import TransferFilter from \"./TransferFilter\";\r\n\r\nexport default TransferFilter;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nconst ButtonFilter = props => {\r\n  const { changeSortFlag, sortFlag } = props;\r\n  return (\r\n    <div>\r\n      <Button active={sortFlag === 'cheapest'} onClick={changeSortFlag}>\r\n        Самый дешевый\r\n      </Button>\r\n      <Button active={sortFlag === 'fastest'} onClick={changeSortFlag}>\r\n        Самый быстрый\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButtonFilter.propTypes = {\r\n  sortFlag: PropTypes.string.isRequired,\r\n  changeSortFlag: PropTypes.func.isRequired,\r\n};\r\n\r\nconst Button = styled.button`\r\n  width: 50%;\r\n  height: 50px;\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  line-height: 20px;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n  cursor: pointer;\r\n  margin: 0;\r\n  padding: 0;\r\n  border: none;\r\n  background-color: ${props => (props.active ? '#2196F3' : '#FFFFFF')};\r\n  color: ${props => (props.active ? '#FFFFFF' : '#4A4A4A')};\r\n`;\r\n\r\nexport default ButtonFilter;\r\n","import ButtonFilter from \"./ButtonFilter\";\r\n\r\nexport default ButtonFilter;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Row, Col } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst createTime = (time, duration) => {\r\n  const startTime = new Date(time);\r\n  const endTime = new Date(startTime.getTime() + duration * 60000);\r\n  const hours = Math.floor(duration / 60);\r\n  const min = duration % 60;\r\n  const normalize = time => (time < 10 ? `0${time}` : time);\r\n  return [\r\n    `${normalize(startTime.getUTCHours())}:${normalize(startTime.getUTCMinutes())} - ${normalize(\r\n      endTime.getUTCHours()\r\n    )}:${normalize(endTime.getUTCMinutes())}`,\r\n    `${normalize(hours)}ч ${normalize(min)}м`,\r\n  ];\r\n};\r\n\r\nconst prettyfy = num => {\r\n  const separator = ' ';\r\n  return num.toString().replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, `$1${separator}`);\r\n};\r\n\r\nconst Ticket = props => {\r\n  const { obj } = props;\r\n  const {\r\n    price,\r\n    carrier,\r\n    segments: [ticketThere, ticketBack],\r\n  } = obj;\r\n\r\n  const timeThere = createTime(ticketThere.date, ticketThere.duration);\r\n  const timeBack = createTime(ticketBack.date, ticketBack.duration);\r\n  const transferThereText = ticketThere.stops.length === 0 ? `Без пересадок` : ticketThere.stops.length > 1 ? `${ticketThere.stops.length} пересадки` : '1 пересадка';\r\n  const transferBackText = ticketBack.stops.length === 0 ? `Без пересадок` : ticketBack.stops.length > 1 ? `${ticketBack.stops.length} пересадки`  : '1 пересадка';\r\n  const prettyfyPrice = prettyfy(price);\r\n\r\n  return (\r\n    <BlankTicket>\r\n      <String>\r\n        <Col span={16}>\r\n          <Price>{`${prettyfyPrice} Р`}</Price>\r\n        </Col>\r\n        <Col span={8}>\r\n          <LogoCompani src={`https://pics.avs.io/99/36/${carrier}.png`} />\r\n        </Col>\r\n      </String>\r\n      <String>\r\n        <Col span={8}>\r\n          <SupportText>{`${ticketThere.origin} - ${ticketThere.destination}`}</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <SupportText>в пути</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <SupportText>{transferThereText}</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{timeThere[0]}</MainText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{timeThere[1]}</MainText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{ticketThere.stops.join(',')}</MainText>\r\n        </Col>\r\n      </String>\r\n      <String>\r\n        <Col span={8}>\r\n          <SupportText>{`${ticketBack.origin} - ${ticketBack.destination}`}</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <SupportText>в пути</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <SupportText>{transferBackText}</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{timeBack[0]}</MainText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{timeBack[1]}</MainText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{ticketBack.stops.join(',')}</MainText>\r\n        </Col>\r\n      </String>\r\n    </BlankTicket>\r\n  );\r\n};\r\n\r\nTicket.propTypes = {\r\n  obj: PropTypes.shape({\r\n    price: PropTypes.number,\r\n    carrier: PropTypes.string,\r\n    segments: PropTypes.array,\r\n  }).isRequired,\r\n};\r\n\r\nexport default Ticket;\r\n\r\nconst BlankTicket = styled(Row)`\r\n  width: 100%;\r\n  height: 184px;\r\n  margin-top: 20px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\r\n  border-radius: 5px;\r\n  padding: 20px 0 20px 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n`;\r\nconst Price = styled.span`\r\n  font-weight: 600;\r\n  font-size: 24px;\r\n  line-height: 24px;\r\n  color: #2196f3;\r\n`;\r\nconst LogoCompani = styled.img`\r\n  width: 110px;\r\n  height: 36px;\r\n`;\r\nconst SupportText = styled.span`\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  line-height: 18px;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n  color: #a0b0b9;\r\n`;\r\nconst MainText = styled.span`\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  line-height: 21px;\r\n  color: #4a4a4a;\r\n`;\r\nconst String = styled(Row)`\r\n  margin-top: 10px;\r\n`;","import TicketsList from \"./TicketsList\";\r\n\r\nexport default TicketsList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Ticket from './Ticket';\r\n\r\nconst TicketsList = props => {\r\n  const { list } = props;\r\n  const result = list.map(ticket => <Ticket obj={ticket} />);\r\n  return <div>{result}</div>;\r\n};\r\n\r\nTicketsList.propTypes = {\r\n  list: PropTypes.shape([]).isRequired,\r\n};\r\n\r\nexport default TicketsList;\r\n","import App from \"./App\";\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { Col } from 'antd';\r\n\r\nimport { sortFilter, transferFilter, getSearchId, getChunkTickets } from '../api/api';\r\n\r\nimport ContentWrapper from '../ContentWrapper';\r\nimport TransferFilter from '../TransferFilter';\r\nimport ButtonFilter from '../ButtonFilter';\r\nimport TicketsList from '../TicketsList';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport './app.css';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tickets: [],\r\n      sortFlag: 'fastest',\r\n      transferFlag: { '0': true, '1': false, '2': false, '3': false, all: false },\r\n      searchId: null,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.getId();\r\n  }\r\n\r\n  getId = async () => {\r\n    const response = await getSearchId();\r\n    this.setState({ ...response.data }, () => this.getTickets());\r\n  };\r\n\r\n  getTickets = async () => {\r\n    const { searchId } = this.state;\r\n    try {\r\n      const response = await getChunkTickets(searchId);\r\n      const { data } = response;\r\n      if (data.stop) {\r\n        return this.setState(state => ({ tickets: [...state.tickets, ...data.tickets] }));\r\n      }\r\n      this.setState(state => ({ tickets: [...state.tickets, ...data.tickets] }), this.getTickets);\r\n    } catch (err) {\r\n      this.getTickets();\r\n    }\r\n  };\r\n\r\n  changeTransferFlag = value => {\r\n    if (value === 'all') {\r\n      this.setState(state => {\r\n        const { all } = state.transferFlag;\r\n        if (all) {\r\n          return { transferFlag: { '0': true, '1': false, '2': false, '3': false, all: false } };\r\n        }\r\n        return { transferFlag: { '0': true, '1': true, '2': true, '3': true, all: true } };\r\n      });\r\n    } else {\r\n      this.setState(state => {\r\n        const { transferFlag } = state;\r\n        return { transferFlag: { ...transferFlag, [value]: !transferFlag[value], all: false } };\r\n      });\r\n    }\r\n  };\r\n\r\n  changeSortFlag = () => {\r\n    this.setState(state => {\r\n      const { sortFlag } = state;\r\n      return sortFlag === 'cheapest' ? { sortFlag: 'fastest' } : { sortFlag: 'cheapest' };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { tickets, transferFlag, sortFlag } = this.state;\r\n    const result = sortFilter(transferFilter(tickets, transferFlag), sortFlag).slice(0, 5);\r\n    return (\r\n      <ContentWrapper>\r\n        <TransferFilter changeTransferFlag={this.changeTransferFlag} transferFlag={transferFlag} />\r\n        <Col xs={22} sm={15}>\r\n          <ButtonFilter changeSortFlag={this.changeSortFlag} sortFlag={sortFlag} />\r\n          <TicketsList list={result} />\r\n        </Col>\r\n      </ContentWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}