{"version":3,"sources":["img/Logo.png","img/Shape.png","ContentWrapper/ContentWrapper.jsx","ContentWrapper/index.js","TransferFilter/TransferFilter.jsx","TransferFilter/index.js","ButtonFilter/ButtonFilter.jsx","ButtonFilter/index.js","TicketsList/Ticket.jsx","TicketsList/index.js","TicketsList/TicketsList.jsx","app/index.js","app/App.jsx","index.jsx"],"names":["module","exports","Container","styled","Row","Wrapper","div","Img","img","ContentWrapper","props","children","src","logo","alt","Col","Title","h2","CheckBox","input","attrs","type","id","Label","label","htmlFor","active","Shape","TransferFilter","onClick","value","evt","preventDefault","changeTransferFlag","transferFlag","this","xs","sm","all","className","React","Component","Button","button","ButtonFilter","changeSortFlag","sortFlag","BlankTicket","Price","span","LogoCompani","SupportText","MainText","String","createTime","time","duration","startTime","Date","endTime","getTime","hours","Math","floor","min","normalize","el","getUTCHours","getUTCMinutes","Ticket","obj","price","carrier","segments","ticketThere","ticketBack","timeThere","date","timeBack","transferThereText","stops","length","transferBackText","origin","destination","join","TicketsList","result","list","map","App","getId","a","axios","get","response","setState","data","getTickets","searchId","state","params","catch","stop","tickets","stateTickets","isUpdate","transferFilter","ar","flags","i","push","stopLeng","includes","filter","ticket","seg1","seg2","sortFilter","sort","b","getDuration","el1","el2","slice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.843d74c1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo.d2a4807b.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC5SURBVHgBjY7NDYJAEIVn9qwRO1grUDvQEqxAznrRCtQKiAfwaKzAWAEl2MJ2oJE1iIF9LkH8iST4bjP53g/TH5JbOHzTe2TmIGrhTSw5voYEGhCLFtfCyEIiSICWatpcCelrVwba+4F93XvBxG4O539BbLpMmHWC6Ci9k1MkRwP7szOMgyTtq0ljVwbxE1iwrbSnYkNrCNhGKCTZUM3b6rOZ33tLU65q+MtQ7L64TDzGPR1Z+EwVegAaYFmyhe9bkAAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Row } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport logo from '../img/Logo.png'; // Tell Webpack this JS file uses this image\r\n\r\nconst Container = styled(Row)`\r\n  margin: 0 auto;\r\n  max-width: 755px;\r\n  min-width: 384px;\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  @media screen and (min-width: 577px) {\r\n    & {\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n      align-items: normal;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 60px;\r\n  height: 60px;\r\n  display: block;\r\n  margin: 50px auto 50px auto;\r\n`;\r\n\r\nconst ContentWrapper = props => {\r\n  const { children } = props;\r\n  return (\r\n    <Container>\r\n      <Img src={logo} alt=\"logo aviasales\" />\r\n      <Wrapper>{children}</Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nContentWrapper.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default ContentWrapper;\r\n","import ContentWrapper from \"./ContentWrapper\";\r\n\r\nexport default ContentWrapper;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Col } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Shape from '../img/Shape.png'; // Tell Webpack this JS file uses this image\r\n\r\nconst Container = styled(Col)`\r\n  height: 252px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\r\n  border-radius: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 20px 0 20px 20px;\r\n  margin-bottom: 20px;\r\n  @media screen and (min-width: 577px) {\r\n    & {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n`;\r\nconst Title = styled.h2`\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  line-height: 12px;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n`;\r\nconst CheckBox = styled.input.attrs(props => ({ type: 'checkbox', id: props.id }))`\r\n  display: none;\r\n`;\r\n\r\nconst Label = styled.label.attrs(props => ({ htmlFor: props.htmlFor }))`\r\n  font-weight: normal;\r\n  font-size: 13px;\r\n  line-height: 20px;\r\n  &::before {\r\n    content: '';\r\n    width: 20px;\r\n    height: 20px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-right: 10px;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-color: ${props => (props.active ? '#2196F3' : '#9ABBCE')};\r\n    border-radius: 2px;\r\n    background: ${props => (props.active ? `url(${Shape}) center no-repeat` : 'none')};\r\n  }\r\n`;\r\n\r\nclass TransferFilter extends React.Component {\r\n  onClick = value => evt => {\r\n    evt.preventDefault();\r\n    const { changeTransferFlag } = this.props;\r\n    changeTransferFlag(value);\r\n  };\r\n\r\n  render() {\r\n    const { transferFlag } = this.props;\r\n    return (\r\n      <Container xs={22} sm={8}>\r\n        <Title>Количество пересадок </Title>\r\n        <Label htmlFor=\"all\" active={transferFlag.all} onClick={this.onClick('all')}>\r\n          <CheckBox id=\"all\" />\r\n          Все\r\n        </Label>\r\n        <Label htmlFor=\"zero\" active={transferFlag[0]} onClick={this.onClick(0)}>\r\n          <CheckBox id=\"zero\" />\r\n          Без пересадок\r\n        </Label>\r\n        <Label htmlFor=\"one\" active={transferFlag[1]} onClick={this.onClick(1)}>\r\n          <CheckBox id=\"one\" />1 пересадка\r\n        </Label>\r\n        <Label htmlFor=\"two\" active={transferFlag[2]} onClick={this.onClick(2)}>\r\n          <CheckBox id=\"two\" />2 пересадки\r\n        </Label>\r\n        <Label htmlFor=\"three\" active={transferFlag[3]} onClick={this.onClick(3)}>\r\n          <CheckBox id=\"three\" className=\"pupsik\" />3 пересадки\r\n        </Label>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nTransferFilter.propTypes = {\r\n  changeTransferFlag: PropTypes.func.isRequired,\r\n  transferFlag: PropTypes.shape({\r\n    all: PropTypes.string,\r\n    '0': PropTypes.bool,\r\n    '1': PropTypes.bool,\r\n    '2': PropTypes.bool,\r\n    '3': PropTypes.bool,\r\n  }).isRequired,\r\n};\r\n\r\nexport default TransferFilter;\r\n","import TransferFilter from \"./TransferFilter\";\r\n\r\nexport default TransferFilter;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  width: 50%;\r\n  height: 50px;\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  line-height: 20px;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n  border: none;\r\n  cursor: pointer;\r\n  margin: 0;\r\n  padding: 0;\r\n  border: 1px solid #dfe5ec;\r\n  background-color: ${props => (props.active ? '#2196F3' : '#FFFFFF')};\r\n  color: ${props => (props.active ? '#FFFFFF' : '#4A4A4A')};\r\n`;\r\n\r\nconst ButtonFilter = props => {\r\n  const { changeSortFlag, sortFlag } = props;\r\n  return (\r\n    <div>\r\n      <Button active={sortFlag === 'cheapest'} onClick={() => changeSortFlag()}>\r\n        Самый дешевый\r\n      </Button>\r\n      <Button active={sortFlag === 'fastest'} onClick={() => changeSortFlag()}>\r\n        Самый быстрый\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButtonFilter.propTypes = {\r\n  sortFlag: PropTypes.string.isRequired,\r\n  changeSortFlag: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ButtonFilter;\r\n","import ButtonFilter from \"./ButtonFilter\";\r\n\r\nexport default ButtonFilter;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Row, Col } from 'antd';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst BlankTicket = styled(Row)`\r\n  width: 100%;\r\n  height: 184px;\r\n  margin-top: 20px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\r\n  border-radius: 5px;\r\n  padding: 20px 0 20px 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n`;\r\nconst Price = styled.span`\r\n  font-weight: 600;\r\n  font-size: 24px;\r\n  line-height: 24px;\r\n  color: #2196f3;\r\n`;\r\nconst LogoCompani = styled.img`\r\n  width: 110px;\r\n  height: 36px;\r\n`;\r\nconst SupportText = styled.span`\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  line-height: 18px;\r\n  letter-spacing: 0.5px;\r\n  text-transform: uppercase;\r\n  color: #a0b0b9;\r\n`;\r\nconst MainText = styled.span`\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  line-height: 21px;\r\n  color: #4a4a4a;\r\n`;\r\nconst String = styled(Row)`\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst createTime = (time, duration) => {\r\n  const startTime = new Date(time);\r\n  const endTime = new Date(startTime.getTime() + duration * 60000);\r\n  const hours = Math.floor(duration / 60);\r\n  const min = duration % 60;\r\n  const normalize = el => (el < 10 ? `0${el}` : el);\r\n  return [\r\n    `${normalize(startTime.getUTCHours())} : ${normalize(startTime.getUTCMinutes())} - ${normalize(\r\n      endTime.getUTCHours()\r\n    )} : ${normalize(endTime.getUTCMinutes())}`,\r\n    `${normalize(hours)}ч : ${normalize(min)}м`,\r\n  ];\r\n};\r\n\r\nconst Ticket = props => {\r\n  const { obj } = props;\r\n  const {\r\n    price,\r\n    carrier,\r\n    segments: [ticketThere, ticketBack],\r\n  } = obj;\r\n\r\n  const timeThere = createTime(ticketThere.date, ticketThere.duration);\r\n  const timeBack = createTime(ticketBack.date, ticketBack.duration);\r\n  const transferThereText = ticketThere.stops.length === 0 ? `Без пересадок` : ticketThere.stops.length > 1 ? `${ticketThere.stops.length} пересадки` : '1 пересадка';\r\n  const transferBackText = ticketBack.stops.length === 0 ? `Без пересадок` : ticketBack.stops.length > 1 ? `${ticketBack.stops.length} пересадки` : '1 пересадка';\r\n\r\n  return (\r\n    <BlankTicket>\r\n      <String>\r\n        <Col span={16}>\r\n          <Price>{`${price} Р`}</Price>\r\n        </Col>\r\n        <Col span={8}>\r\n          <LogoCompani src={`http://pics.avs.io/99/36/${carrier}.png`} />\r\n        </Col>\r\n      </String>\r\n      <String>\r\n        <Col span={8}>\r\n          <SupportText>{`${ticketThere.origin} - ${ticketThere.destination}`}</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <SupportText>в пути</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <SupportText>{transferThereText}</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{timeThere[0]}</MainText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{timeThere[1]}</MainText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{ticketThere.stops.join(',')}</MainText>\r\n        </Col>\r\n      </String>\r\n      <String>\r\n        <Col span={8}>\r\n          <SupportText>{`${ticketBack.origin} - ${ticketBack.destination}`}</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <SupportText>в пути</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <SupportText>{transferBackText}</SupportText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{timeBack[0]}</MainText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{timeBack[1]}</MainText>\r\n        </Col>\r\n        <Col span={8}>\r\n          <MainText>{ticketBack.stops.join(',')}</MainText>\r\n        </Col>\r\n      </String>\r\n    </BlankTicket>\r\n  );\r\n};\r\n\r\nTicket.propTypes = {\r\n  obj: PropTypes.shape({\r\n    price: PropTypes.number,\r\n    carrier: PropTypes.string,\r\n    segments: PropTypes.array,\r\n  }).isRequired,\r\n};\r\n\r\nexport default Ticket;\r\n","import TicketsList from \"./TicketsList\";\r\n\r\nexport default TicketsList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Ticket from './Ticket';\r\n\r\nconst TicketsList = props => {\r\n  const { list } = props;\r\n  const result = list.map(el => <Ticket obj={el} />);\r\n  return <div>{result}</div>;\r\n};\r\n\r\nTicketsList.propTypes = {\r\n  list: PropTypes.shape([]).isRequired,\r\n};\r\n\r\nexport default TicketsList;\r\n","import App from \"./App\";\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Col } from 'antd';\r\n\r\nimport ContentWrapper from '../ContentWrapper';\r\nimport TransferFilter from '../TransferFilter';\r\nimport ButtonFilter from '../ButtonFilter';\r\nimport TicketsList from '../TicketsList';\r\n\r\nimport 'antd/dist/antd.css';\r\nimport './app.css';\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stateTickets: [],\r\n      sortFlag: 'fastest',\r\n      transferFlag: { '0': true, '1': false, '2': false, '3': false, all: false },\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.getId();\r\n  }\r\n\r\n  getId = async () => {\r\n    const response = await axios.get('https://front-test.beta.aviasales.ru/search');\r\n    this.setState({ ...response.data }, () => this.getTickets());\r\n  };\r\n\r\n  getTickets = async () => {\r\n    const { searchId } = this.state;\r\n    const response = await axios\r\n      .get('https://front-test.beta.aviasales.ru/tickets', { params: { searchId } })\r\n      .catch(() => this.getTickets());\r\n\r\n    if (!response) {\r\n      return;\r\n    }\r\n    const { stop, tickets } = response.data;\r\n    if (!stop) {\r\n      this.setState(\r\n        state => {\r\n          const { stateTickets } = state;\r\n          return { stateTickets: [...stateTickets, ...tickets] };\r\n        },\r\n        () => this.getTickets()\r\n      );\r\n    } else {\r\n      this.setState(state => {\r\n        const { stateTickets } = state;\r\n        return { stateTickets: [...stateTickets, ...tickets], isUpdate: false };\r\n      });\r\n    }\r\n  };\r\n\r\n  changeTransferFlag = value => {\r\n    if (value === 'all') {\r\n      this.setState(state => {\r\n        const { all } = state.transferFlag;\r\n        if (all) {\r\n          return { transferFlag: { '0': true, '1': false, '2': false, '3': false, all: false } };\r\n        }\r\n        return { transferFlag: { '0': true, '1': true, '2': true, '3': true, all: true } };\r\n      });\r\n    } else {\r\n      this.setState(state => {\r\n        const { transferFlag } = state;\r\n        return { transferFlag: { ...transferFlag, [value]: !transferFlag[value], all: false } };\r\n      });\r\n    }\r\n  };\r\n\r\n  transferFilter = ar => {\r\n    const { transferFlag } = this.state;\r\n    // если нажата галачка все\r\n    if (transferFlag.all) {\r\n      return ar;\r\n    }\r\n    const flags = [];\r\n    for (let i = 0; i < 4; i++) {\r\n      if (transferFlag[i]) {\r\n        flags.push(i);\r\n      }\r\n    }\r\n    const stopLeng = stop => flags.includes(stop);\r\n    const fn = ticket => {\r\n      const [seg1, seg2] = ticket.segments;\r\n      return stopLeng(seg1.stops.length) && stopLeng(seg2.stops.length);\r\n    };\r\n    return ar.filter(fn);\r\n  };\r\n\r\n  sortFilter = ar => {\r\n    const { sortFlag } = this.state;\r\n    if (sortFlag === 'cheapest') {\r\n      return ar.sort((a, b) => {\r\n        if (a.price < b.price) {\r\n          return -1;\r\n        }\r\n        if (a.price > b.price) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      });\r\n    }\r\n    const getDuration = el => el.segments[0].duration + el.segments[1].duration;\r\n    return ar.sort((el1, el2) => {\r\n      const a = getDuration(el1);\r\n      const b = getDuration(el2);\r\n      if (a > b) {\r\n        return 1;\r\n      }\r\n      if (a < b) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    });\r\n  };\r\n\r\n  changeSortFlag = () => {\r\n    this.setState(state => {\r\n      const { sortFlag } = state;\r\n      return sortFlag === 'cheapest' ? { sortFlag: 'fastest' } : { sortFlag: 'cheapest' };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { stateTickets, transferFlag, sortFlag } = this.state;\r\n    const result = this.sortFilter(this.transferFilter(stateTickets)).slice(0, 5);\r\n    return (\r\n      <ContentWrapper>\r\n        <TransferFilter changeTransferFlag={this.changeTransferFlag} transferFlag={transferFlag} />\r\n        <Col xs={22} sm={15}>\r\n          <ButtonFilter changeSortFlag={this.changeSortFlag} sortFlag={sortFlag} />\r\n          <TicketsList list={result} />\r\n        </Col>\r\n      </ContentWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}